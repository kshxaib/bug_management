{% extends "base.html" %}

{% block title %}Assigned Bugs{% endblock %}

{% block content %}
<div class="p-6 animate-fade-in">
    <h1 class="text-3xl font-bold mb-6">Assigned Bugs</h1>

    <div class="overflow-x-auto shadow-md rounded-lg">
        <table class="min-w-full bg-white rounded-xl overflow-hidden">
            <thead class="bg-gray-100 text-gray-700 text-sm">
                <tr>
                    <th class="px-4 py-2 text-left">ID</th>
                    <th class="px-4 py-2 text-left">Title</th>
                    <th class="px-4 py-2 text-left">Description</th>
                    <th class="px-4 py-2 text-left">Status</th>
                    <th class="px-4 py-2 text-left">Priority</th>
                    <th class="px-4 py-2 text-left">Creator</th>
                    <th class="px-4 py-2 text-left">Assignee</th>
                    <th class="px-4 py-2 text-left">Created At</th>
                </tr>
            </thead>
            <tbody class="text-sm divide-y divide-gray-200">
                {% for bug in bugs %}
                <tr class="hover:bg-gray-50 transition">
                    <td class="px-4 py-2">{{ bug.id }}</td>
                    <td class="px-4 py-2 font-medium">{{ bug.title }}</td>
                    <td class="px-4 py-2 truncate max-w-xs" title="{{ bug.description }}">{{ bug.description|truncate(50) }}</td>
                    <td class="px-4 py-2">{{ bug.status }}</td>
                    <td class="px-4 py-2">{{ bug.priority }}</td>
                    <td class="px-4 py-2">{{ bug.creator.username }}</td>
                    <td class="px-4 py-2 text-green-600 font-bold">{{ bug.assignee.username }}</td>
                    <td class="px-4 py-2">{{ bug.created_at.strftime('%Y-%m-%d %H:%M') }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<!-- Fade-in animation style -->
<style>
@keyframes fade-in {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}
.animate-fade-in {
    animation: fade-in 0.4s ease-out;
}
</style>
{% endblock %}
